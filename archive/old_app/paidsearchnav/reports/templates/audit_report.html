<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ company_name }} Google Ads Audit Report</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #1a73e8;
            border-bottom: 3px solid #1a73e8;
            padding-bottom: 10px;
        }
        h2 {
            color: #333;
            margin-top: 30px;
        }
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e0e0e0;
        }
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #1a73e8;
            display: block;
            margin: 10px 0;
        }
        .metric-label {
            color: #666;
            font-size: 0.9em;
        }
        .recommendation {
            background-color: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #1a73e8;
            border-radius: 4px;
        }
        .priority-critical {
            border-left-color: #d93025;
            background-color: #fce8e6;
        }
        .priority-high {
            border-left-color: #ea8600;
            background-color: #fef7e0;
        }
        .priority-medium {
            border-left-color: #fbbc04;
            background-color: #fef9e7;
        }
        .priority-low {
            border-left-color: #34a853;
            background-color: #e6f4ea;
        }
        .executive-summary {
            background-color: #e8f0fe;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 1.1em;
            line-height: 1.8;
        }
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>{{ company_name }} Google Ads Audit Report</h1>
        <p class="report-date">Generated on {{ generated_at }}</p>
        
        {% if show_executive_summary %}
        <div class="executive-summary">
            <h2>Executive Summary</h2>
            <p>{{ executive_summary }}</p>
        </div>
        {% endif %}
        
        {% if show_metrics %}
        <div class="metric-grid">
            <div class="metric-card">
                <span class="metric-label">Total Recommendations</span>
                <span class="metric-value">{{ total_recommendations }}</span>
            </div>
            <div class="metric-card">
                <span class="metric-label">Critical Issues</span>
                <span class="metric-value">{{ critical_issues }}</span>
            </div>
            <div class="metric-card">
                <span class="metric-label">Potential Monthly Savings</span>
                <span class="metric-value">${{ "%.2f"|format(total_savings) }}</span>
            </div>
            <div class="metric-card">
                <span class="metric-label">Analyzers Run</span>
                <span class="metric-value">{{ analysis_results|length }}</span>
            </div>
        </div>
        {% endif %}
        
        {% if show_recommendations %}
        {% if critical_recommendations %}
        <h2>Critical Priority Recommendations</h2>
        {% for rec in critical_recommendations %}
        <div class="recommendation priority-critical">
            <h3>{{ rec.title }}</h3>
            <p>{{ rec.description }}</p>
            {% if rec.estimated_impact %}
            <p><strong>Impact:</strong> {{ rec.estimated_impact }}</p>
            {% endif %}
            {% if rec.cost_savings %}
            <p><strong>Estimated Savings:</strong> ${{ "%.2f"|format(rec.cost_savings) }}/month</p>
            {% endif %}
        </div>
        {% endfor %}
        {% endif %}
        
        {% if high_recommendations %}
        <h2>High Priority Recommendations</h2>
        {% for rec in high_recommendations %}
        <div class="recommendation priority-high">
            <h3>{{ rec.title }}</h3>
            <p>{{ rec.description }}</p>
            {% if rec.estimated_impact %}
            <p><strong>Impact:</strong> {{ rec.estimated_impact }}</p>
            {% endif %}
            {% if rec.cost_savings %}
            <p><strong>Estimated Savings:</strong> ${{ "%.2f"|format(rec.cost_savings) }}/month</p>
            {% endif %}
        </div>
        {% endfor %}
        {% endif %}
        
        {% if medium_recommendations %}
        <h2>Medium Priority Recommendations</h2>
        {% for rec in medium_recommendations %}
        <div class="recommendation priority-medium">
            <h3>{{ rec.title }}</h3>
            <p>{{ rec.description }}</p>
            {% if rec.estimated_impact %}
            <p><strong>Impact:</strong> {{ rec.estimated_impact }}</p>
            {% endif %}
        </div>
        {% endfor %}
        {% endif %}
        
        {% if low_recommendations %}
        <h2>Low Priority Recommendations</h2>
        {% for rec in low_recommendations %}
        <div class="recommendation priority-low">
            <h3>{{ rec.title }}</h3>
            <p>{{ rec.description }}</p>
        </div>
        {% endfor %}
        {% endif %}
        {% endif %}
        
        {% if show_analyzer_details %}
        <h2>Analyzer Details</h2>
        {% for result in analysis_results %}
        <div class="analyzer-section">
            <h3>{{ result.analyzer_name }}</h3>
            <p><strong>Date Range:</strong> {{ result.start_date }} to {{ result.end_date }}</p>
            <p><strong>Recommendations:</strong> {{ result.recommendations|length }}</p>
            {% if result.analyzer_name in analyzer_summaries %}
            <div class="analyzer-summary">
                <pre>{{ analyzer_summaries[result.analyzer_name]|tojson(indent=2) }}</pre>
            </div>
            {% endif %}
        </div>
        {% endfor %}
        {% endif %}
        
        <div class="footer">
            <p>This report was generated by {{ company_name }} using PaidSearchNav</p>
            <p>For questions or support, please contact your account manager</p>
        </div>
    </div>
</body>
</html>